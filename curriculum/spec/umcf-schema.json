{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://unamentis.com/schemas/umcf/v1.1.0/curriculum.json",
  "title": "Una Mentis Curriculum Format (UMCF)",
  "description": "A JSON schema for conversational AI tutoring curricula with standards traceability. Optimized for voice-first learning experiences.",
  "type": "object",
  "required": ["formatIdentifier", "id", "title", "version", "content"],
  "properties": {
    "formatIdentifier": {
      "description": "UMCF schema format identifier. Source: JSON Schema convention.",
      "type": "string",
      "const": "umcf"
    },
    "schemaVersion": {
      "description": "UMCF schema version. Source: Semantic Versioning.",
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "default": "1.1.0"
    },
    "id": {
      "description": "Globally unique curriculum identifier. Source: LOM General.Identifier, Dublin Core identifier.",
      "$ref": "#/$defs/identifier"
    },
    "title": {
      "description": "Human-readable curriculum title. Source: LOM General.Title, LRMI name, Dublin Core Title.",
      "type": "string",
      "minLength": 1,
      "maxLength": 500
    },
    "description": {
      "description": "Detailed curriculum description. Source: LOM General.Description, LRMI description, Dublin Core Description.",
      "type": "string"
    },
    "version": {
      "description": "Curriculum version information. Source: LOM LifeCycle.Version, Semantic Versioning.",
      "$ref": "#/$defs/versionInfo"
    },
    "lifecycle": {
      "description": "Lifecycle state and history. Source: LOM LifeCycle category.",
      "$ref": "#/$defs/lifecycle"
    },
    "metadata": {
      "description": "General metadata. Source: LOM Meta-Metadata, Dublin Core elements.",
      "$ref": "#/$defs/curriculumMetadata"
    },
    "educational": {
      "description": "Educational context and characteristics. Source: LOM Educational, LRMI educationalAlignment.",
      "$ref": "#/$defs/educationalContext"
    },
    "rights": {
      "description": "Rights and licensing information. Source: LOM Rights, Dublin Core Rights, Creative Commons.",
      "$ref": "#/$defs/rights"
    },
    "sourceProvenance": {
      "description": "Content source and provenance tracking. Source: Dublin Core Source, PROV-O ontology.",
      "$ref": "#/$defs/sourceProvenance"
    },
    "compliance": {
      "description": "Compliance and certification requirements. Source: Open Badges, xAPI, corporate training standards.",
      "$ref": "#/$defs/complianceRequirements"
    },
    "content": {
      "description": "Hierarchical content structure (recursive). Source: SCORM organization, UMCF native.",
      "type": "array",
      "items": {
        "$ref": "#/$defs/contentNode"
      },
      "minItems": 1
    },
    "glossary": {
      "description": "Curriculum-wide glossary. Source: LRMI, educational resource conventions.",
      "$ref": "#/$defs/glossary"
    },
    "extensions": {
      "description": "Namespaced extensions for custom data. Source: xAPI extensions pattern, JSON-LD @context.",
      "$ref": "#/$defs/extensions"
    }
  },

  "$defs": {
    "identifier": {
      "description": "A stable identifier with optional catalog/namespace. Source: LOM General.Identifier.",
      "type": "object",
      "required": ["value"],
      "properties": {
        "catalog": {
          "description": "Identifier namespace/catalog. Source: LOM Identifier.Catalog.",
          "type": "string",
          "examples": ["URI", "UUID", "ISBN", "DOI", "ISCED", "internal"]
        },
        "value": {
          "description": "The identifier value. Source: LOM Identifier.Entry.",
          "type": "string",
          "minLength": 1
        }
      }
    },

    "versionInfo": {
      "description": "Version information. Source: LOM LifeCycle.Version, Semantic Versioning.",
      "type": "object",
      "required": ["number"],
      "properties": {
        "number": {
          "description": "Semantic version number. Source: SemVer.",
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+(-[a-zA-Z0-9.]+)?(\\+[a-zA-Z0-9.]+)?$"
        },
        "date": {
          "description": "Version date. Source: LOM LifeCycle.Contribute.Date.",
          "type": "string",
          "format": "date-time"
        },
        "changelog": {
          "description": "Version change notes.",
          "type": "string"
        }
      }
    },

    "lifecycle": {
      "description": "Lifecycle information. Source: LOM LifeCycle category.",
      "type": "object",
      "properties": {
        "status": {
          "description": "Publication status. Source: LOM LifeCycle.Status vocabulary.",
          "type": "string",
          "enum": ["draft", "final", "revised", "unavailable", "archived"]
        },
        "contributors": {
          "description": "Contributors with roles. Source: LOM LifeCycle.Contribute.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/contributor"
          }
        },
        "created": {
          "description": "Creation date. Source: Dublin Core Date.created.",
          "type": "string",
          "format": "date-time"
        },
        "modified": {
          "description": "Last modification date. Source: Dublin Core Date.modified.",
          "type": "string",
          "format": "date-time"
        },
        "validFrom": {
          "description": "Content validity start. Source: Open Badges validity.",
          "type": "string",
          "format": "date-time"
        },
        "validUntil": {
          "description": "Content validity end/expiration. Source: Open Badges validity, compliance requirements.",
          "type": "string",
          "format": "date-time"
        }
      }
    },

    "contributor": {
      "description": "A contributor to the curriculum. Source: LOM LifeCycle.Contribute, Dublin Core Contributor.",
      "type": "object",
      "required": ["name", "role"],
      "properties": {
        "id": {
          "description": "Contributor identifier. Source: vCard, ORCID.",
          "type": "string"
        },
        "name": {
          "description": "Contributor name. Source: LOM Contribute.Entity (vCard).",
          "type": "string"
        },
        "role": {
          "description": "Contributor role. Source: LOM Contribute.Role vocabulary.",
          "type": "string",
          "enum": [
            "author",
            "publisher",
            "unknown",
            "initiator",
            "terminator",
            "validator",
            "editor",
            "graphical designer",
            "technical implementer",
            "content provider",
            "technical validator",
            "educational validator",
            "script writer",
            "instructional designer",
            "subject matter expert"
          ]
        },
        "organization": {
          "description": "Organization affiliation. Source: vCard ORG.",
          "type": "string"
        },
        "email": {
          "description": "Contact email. Source: vCard EMAIL.",
          "type": "string",
          "format": "email"
        },
        "date": {
          "description": "Contribution date. Source: LOM Contribute.Date.",
          "type": "string",
          "format": "date-time"
        }
      }
    },

    "curriculumMetadata": {
      "description": "General metadata. Source: LOM Meta-Metadata, Dublin Core.",
      "type": "object",
      "properties": {
        "language": {
          "description": "Primary language (BCP 47). Source: LOM General.Language, Dublin Core Language.",
          "type": "string",
          "pattern": "^[a-z]{2,3}(-[A-Z][a-z]{3})?(-[A-Z]{2})?$",
          "examples": ["en", "en-US", "es", "zh-Hans-CN"]
        },
        "keywords": {
          "description": "Subject keywords. Source: LOM General.Keyword, Dublin Core Subject.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "coverage": {
          "description": "Topical/temporal coverage. Source: LOM General.Coverage, Dublin Core Coverage.",
          "type": "string"
        },
        "structure": {
          "description": "Content structure type. Source: LOM General.Structure vocabulary.",
          "type": "string",
          "enum": ["atomic", "collection", "networked", "hierarchical", "linear"]
        },
        "aggregationLevel": {
          "description": "Granularity level (1=raw media, 2=lesson, 3=course, 4=curriculum). Source: LOM General.AggregationLevel.",
          "type": "integer",
          "minimum": 1,
          "maximum": 4
        }
      }
    },

    "educationalContext": {
      "description": "Educational characteristics. Source: LOM Educational, LRMI.",
      "type": "object",
      "properties": {
        "interactivityType": {
          "description": "Type of interactivity. Source: LOM Educational.InteractivityType.",
          "type": "string",
          "enum": ["active", "expositive", "mixed"]
        },
        "interactivityLevel": {
          "description": "Degree of interactivity. Source: LOM Educational.InteractivityLevel.",
          "type": "string",
          "enum": ["very low", "low", "medium", "high", "very high"]
        },
        "learningResourceType": {
          "description": "Resource type(s). Source: LOM Educational.LearningResourceType, LRMI learningResourceType.",
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "exercise",
              "simulation",
              "questionnaire",
              "diagram",
              "figure",
              "graph",
              "index",
              "slide",
              "table",
              "narrative text",
              "exam",
              "experiment",
              "problem statement",
              "self assessment",
              "lecture",
              "tutorial",
              "conversation"
            ]
          }
        },
        "intendedEndUserRole": {
          "description": "Target user role(s). Source: LOM Educational.IntendedEndUserRole.",
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["teacher", "author", "learner", "manager"]
          }
        },
        "context": {
          "description": "Learning context(s). Source: LOM Educational.Context vocabulary.",
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["school", "higher education", "training", "other"]
          }
        },
        "typicalAgeRange": {
          "description": "Target age range. Source: LOM Educational.TypicalAgeRange, LRMI typicalAgeRange.",
          "type": "string",
          "examples": ["8-10", "18+", "25-65"]
        },
        "difficulty": {
          "description": "Content difficulty. Source: LOM Educational.Difficulty.",
          "type": "string",
          "enum": ["very easy", "easy", "medium", "difficult", "very difficult"]
        },
        "typicalLearningTime": {
          "description": "Expected total duration (ISO 8601). Source: LOM Educational.TypicalLearningTime.",
          "type": "string",
          "pattern": "^P(?:\\d+Y)?(?:\\d+M)?(?:\\d+W)?(?:\\d+D)?(?:T(?:\\d+H)?(?:\\d+M)?(?:\\d+S)?)?$",
          "examples": ["PT45M", "PT2H", "P1D"]
        },
        "educationalAlignment": {
          "description": "Standards alignment. Source: LRMI educationalAlignment, CASE.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/educationalAlignment"
          }
        },
        "audienceProfile": {
          "description": "Detailed audience description. Source: LRMI audience, UMCF native.",
          "$ref": "#/$defs/audienceProfile"
        }
      }
    },

    "educationalAlignment": {
      "description": "Alignment to educational standards/frameworks. Source: LRMI educationalAlignment, CASE CFItem.",
      "type": "object",
      "required": ["alignmentType", "targetName"],
      "properties": {
        "alignmentType": {
          "description": "Type of alignment. Source: LRMI alignmentType.",
          "type": "string",
          "enum": [
            "assesses",
            "teaches",
            "requires",
            "textComplexity",
            "readingLevel",
            "educationalSubject",
            "educationalLevel"
          ]
        },
        "educationalFramework": {
          "description": "Framework name. Source: LRMI educationalFramework, CASE CFDocument.title.",
          "type": "string",
          "examples": ["Common Core State Standards", "NGSS", "AP Computer Science", "PMP", "ITIL"]
        },
        "targetName": {
          "description": "Standard/competency name. Source: LRMI targetName, CASE CFItem.fullStatement.",
          "type": "string"
        },
        "targetUrl": {
          "description": "Standard URL. Source: LRMI targetUrl, CASE CFItem.uri.",
          "type": "string",
          "format": "uri"
        },
        "targetDescription": {
          "description": "Standard description. Source: LRMI targetDescription.",
          "type": "string"
        }
      }
    },

    "audienceProfile": {
      "description": "Detailed audience characteristics. Source: LRMI audience, UMCF native.",
      "type": "object",
      "properties": {
        "educationLevel": {
          "description": "Education level. Source: LRMI educationalLevel, ISCED.",
          "type": "string",
          "enum": [
            "elementary",
            "middle school",
            "high school",
            "undergraduate",
            "graduate",
            "professional",
            "continuing education"
          ]
        },
        "gradeLevel": {
          "description": "Specific grade (US system). Source: LRMI typicalGradeLevel.",
          "type": "string",
          "examples": ["3", "3-4", "K-2", "9-12", "college"]
        },
        "prerequisites": {
          "description": "Required prior knowledge. Source: LRMI coursePrerequisites.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "description": {
                "type": "string"
              },
              "required": {
                "type": "boolean",
                "default": true
              },
              "relatedCurriculum": {
                "$ref": "#/$defs/identifier"
              }
            }
          }
        },
        "roleRequirements": {
          "description": "Job role requirements. Source: Corporate training, Open Badges.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "role": {
                "type": "string"
              },
              "required": {
                "type": "boolean"
              },
              "department": {
                "type": "string"
              }
            }
          }
        }
      }
    },

    "rights": {
      "description": "Rights and licensing. Source: LOM Rights, Dublin Core Rights, Creative Commons.",
      "type": "object",
      "properties": {
        "cost": {
          "description": "Whether payment is required. Source: LOM Rights.Cost.",
          "type": "boolean"
        },
        "copyrightAndOtherRestrictions": {
          "description": "Whether restrictions exist. Source: LOM Rights.CopyrightAndOtherRestrictions.",
          "type": "boolean"
        },
        "description": {
          "description": "Rights description. Source: LOM Rights.Description.",
          "type": "string"
        },
        "license": {
          "description": "License details. Source: Creative Commons, SPDX.",
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "examples": [
                "CC-BY-4.0",
                "CC-BY-SA-4.0",
                "CC-BY-NC-4.0",
                "CC-BY-NC-SA-4.0",
                "All Rights Reserved",
                "Public Domain"
              ]
            },
            "url": {
              "type": "string",
              "format": "uri"
            }
          }
        },
        "attributionRequirements": {
          "description": "Required attribution text. Source: Creative Commons attribution.",
          "type": "string"
        },
        "holder": {
          "description": "Rights holder. Source: Dublin Core rightsHolder.",
          "type": "string"
        }
      }
    },

    "sourceProvenance": {
      "description": "Content source and provenance tracking. Source: Dublin Core Source, PROV-O ontology, DataCite.",
      "type": "object",
      "properties": {
        "originType": {
          "description": "How this curriculum was created. Source: PROV-O activity types.",
          "type": "string",
          "enum": [
            "original",
            "imported",
            "derived",
            "translated",
            "ai_generated",
            "curated",
            "transcribed",
            "adapted"
          ]
        },
        "primarySources": {
          "description": "Primary source materials this curriculum is based on. Source: Dublin Core Source, DataCite relatedIdentifier.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/sourceReference"
          }
        },
        "importMetadata": {
          "description": "Import details if curriculum was imported from external system.",
          "type": "object",
          "properties": {
            "importedFrom": {
              "description": "URL or identifier of import source.",
              "type": "string",
              "format": "uri"
            },
            "importDate": {
              "description": "When the import occurred.",
              "type": "string",
              "format": "date-time"
            },
            "importVersion": {
              "description": "Version of source at time of import.",
              "type": "string"
            },
            "importTool": {
              "description": "Tool or method used for import.",
              "type": "string"
            },
            "originalFormat": {
              "description": "Original format before conversion to UMCF.",
              "type": "string",
              "examples": ["scorm", "xapi", "pdf", "video", "markdown", "html"]
            },
            "transformations": {
              "description": "Transformations applied during import.",
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "aiGenerationMetadata": {
          "description": "Details if content was AI-generated.",
          "type": "object",
          "properties": {
            "model": {
              "description": "AI model used for generation.",
              "type": "string",
              "examples": ["claude-opus-4-5", "gpt-4", "claude-sonnet-4"]
            },
            "generationDate": {
              "description": "When content was generated.",
              "type": "string",
              "format": "date-time"
            },
            "prompt": {
              "description": "Generation prompt or instructions.",
              "type": "string"
            },
            "humanReviewed": {
              "description": "Whether content was reviewed by humans.",
              "type": "boolean"
            },
            "reviewedBy": {
              "description": "Who reviewed the AI-generated content.",
              "type": "string"
            },
            "reviewDate": {
              "description": "When review occurred.",
              "type": "string",
              "format": "date-time"
            }
          }
        },
        "derivationChain": {
          "description": "Chain of derivation if curriculum is derived from others. Source: PROV-O wasDerivedFrom.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "sourceId": {
                "$ref": "#/$defs/identifier"
              },
              "sourceUrl": {
                "type": "string",
                "format": "uri"
              },
              "relationship": {
                "type": "string",
                "enum": ["derived_from", "adapted_from", "translated_from", "based_on", "inspired_by"]
              },
              "derivationDate": {
                "type": "string",
                "format": "date-time"
              },
              "notes": {
                "type": "string"
              }
            }
          }
        },
        "verificationStatus": {
          "description": "Content verification status.",
          "type": "object",
          "properties": {
            "factChecked": {
              "type": "boolean"
            },
            "factCheckDate": {
              "type": "string",
              "format": "date-time"
            },
            "factChecker": {
              "type": "string"
            },
            "academicReview": {
              "type": "boolean"
            },
            "reviewerCredentials": {
              "type": "string"
            },
            "lastVerified": {
              "type": "string",
              "format": "date-time"
            }
          }
        }
      }
    },

    "sourceReference": {
      "description": "Reference to a source material. Source: DataCite, Dublin Core.",
      "type": "object",
      "required": ["title"],
      "properties": {
        "id": {
          "description": "Identifier (DOI, ISBN, URL, etc.). Source: DataCite relatedIdentifier.",
          "$ref": "#/$defs/identifier"
        },
        "title": {
          "description": "Source title. Source: Dublin Core Title.",
          "type": "string"
        },
        "type": {
          "description": "Type of source. Source: DataCite resourceTypeGeneral.",
          "type": "string",
          "enum": [
            "book",
            "journal_article",
            "textbook",
            "website",
            "video",
            "course",
            "lecture_notes",
            "research_paper",
            "encyclopedia",
            "primary_source",
            "dataset",
            "software",
            "other"
          ]
        },
        "url": {
          "description": "URL to access source.",
          "type": "string",
          "format": "uri"
        },
        "authors": {
          "description": "Source authors. Source: Dublin Core Creator.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "publisher": {
          "description": "Publisher. Source: Dublin Core Publisher.",
          "type": "string"
        },
        "publicationDate": {
          "description": "Publication date. Source: Dublin Core Date.",
          "type": "string"
        },
        "edition": {
          "description": "Edition or version.",
          "type": "string"
        },
        "pages": {
          "description": "Relevant page range.",
          "type": "string"
        },
        "chapters": {
          "description": "Relevant chapters.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "accessDate": {
          "description": "When source was accessed (for web sources).",
          "type": "string",
          "format": "date-time"
        },
        "license": {
          "description": "Source's license.",
          "type": "string"
        },
        "citationText": {
          "description": "Formatted citation text.",
          "type": "string"
        },
        "relationshipToContent": {
          "description": "How this source was used.",
          "type": "string",
          "enum": [
            "primary_source",
            "reference",
            "inspiration",
            "fact_check",
            "supplementary",
            "adapted_from",
            "quoted"
          ]
        },
        "sectionsUsed": {
          "description": "Specific sections of the curriculum that use this source.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "notes": {
          "description": "Additional notes about this source.",
          "type": "string"
        }
      }
    },

    "complianceRequirements": {
      "description": "Compliance and certification requirements. Source: Open Badges, xAPI, corporate training standards.",
      "type": "object",
      "properties": {
        "certification": {
          "description": "Certification configuration. Source: Open Badges BadgeClass.",
          "$ref": "#/$defs/certification"
        },
        "regulatoryFrameworks": {
          "description": "Applicable regulations. Source: Corporate compliance standards.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "examples": ["HIPAA", "SOC2", "GDPR", "PCI-DSS", "OSHA"]
              },
              "version": {
                "type": "string"
              },
              "url": {
                "type": "string",
                "format": "uri"
              }
            }
          }
        },
        "renewalPolicy": {
          "description": "Re-certification requirements. Source: Corporate training standards.",
          "$ref": "#/$defs/renewalPolicy"
        },
        "auditRequirements": {
          "description": "Audit trail requirements. Source: Compliance standards, xAPI.",
          "$ref": "#/$defs/auditRequirements"
        }
      }
    },

    "certification": {
      "description": "Certification/badge configuration. Source: Open Badges BadgeClass.",
      "type": "object",
      "properties": {
        "id": {
          "description": "Badge/certification ID. Source: Open Badges BadgeClass.id.",
          "$ref": "#/$defs/identifier"
        },
        "name": {
          "description": "Certification name. Source: Open Badges BadgeClass.name.",
          "type": "string"
        },
        "description": {
          "description": "Certification description. Source: Open Badges BadgeClass.description.",
          "type": "string"
        },
        "image": {
          "description": "Badge image URL. Source: Open Badges BadgeClass.image.",
          "type": "string",
          "format": "uri"
        },
        "criteria": {
          "description": "Earning criteria. Source: Open Badges BadgeClass.criteria.",
          "type": "object",
          "properties": {
            "narrative": {
              "type": "string"
            },
            "passingScore": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "requiredObjectives": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "requiredAssessments": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "minimumTimeSpent": {
              "type": "string",
              "pattern": "^PT\\d+[HM]$"
            }
          }
        },
        "issuer": {
          "description": "Certification issuer. Source: Open Badges Issuer.",
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "format": "uri"
            },
            "name": {
              "type": "string"
            },
            "url": {
              "type": "string",
              "format": "uri"
            },
            "email": {
              "type": "string",
              "format": "email"
            }
          }
        },
        "validityPeriod": {
          "description": "How long certification is valid (ISO 8601 duration). Source: Open Badges, compliance standards.",
          "type": "string",
          "pattern": "^P\\d+[YMD]$",
          "examples": ["P1Y", "P2Y", "P6M"]
        },
        "alignment": {
          "description": "External standard alignment. Source: Open Badges Alignment.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/educationalAlignment"
          }
        }
      }
    },

    "renewalPolicy": {
      "description": "Re-certification requirements. Source: Corporate training standards.",
      "type": "object",
      "properties": {
        "required": {
          "type": "boolean"
        },
        "renewalPeriod": {
          "description": "Time between required renewals (ISO 8601 duration).",
          "type": "string",
          "pattern": "^P\\d+[YMD]$",
          "examples": ["P1Y", "P6M"]
        },
        "renewalOptions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": ["full_retake", "abbreviated", "assessment_only", "continuing_education"]
              },
              "description": {
                "type": "string"
              },
              "requirements": {
                "type": "string"
              }
            }
          }
        },
        "gracePeriod": {
          "description": "Grace period after expiration.",
          "type": "string",
          "pattern": "^P\\d+[DMW]$"
        },
        "notificationSchedule": {
          "description": "When to notify about upcoming renewal.",
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^P\\d+[DMW]$",
            "examples": ["P30D", "P7D", "P1D"]
          }
        }
      }
    },

    "auditRequirements": {
      "description": "Audit trail requirements. Source: Compliance standards, xAPI verbs.",
      "type": "object",
      "properties": {
        "enabled": {
          "type": "boolean"
        },
        "retentionPeriod": {
          "description": "How long to retain audit data (ISO 8601 duration).",
          "type": "string",
          "pattern": "^P\\d+[YM]$",
          "examples": ["P7Y", "P3Y"]
        },
        "requiredEvents": {
          "description": "Events that must be recorded. Source: xAPI verbs.",
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "started",
              "completed",
              "passed",
              "failed",
              "attempted",
              "answered",
              "progressed",
              "experienced",
              "interacted",
              "launched",
              "exited",
              "suspended",
              "resumed",
              "scored"
            ]
          }
        },
        "dataFields": {
          "description": "Data fields to capture.",
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "timestamp",
              "user_id",
              "session_id",
              "ip_address",
              "user_agent",
              "duration",
              "score",
              "responses",
              "attempts"
            ]
          }
        },
        "signatureRequired": {
          "description": "Whether digital signature is required.",
          "type": "boolean"
        },
        "supervisorApproval": {
          "description": "Whether supervisor sign-off is required.",
          "type": "boolean"
        }
      }
    },

    "contentNode": {
      "description": "A content node in the curriculum hierarchy (recursive). Source: SCORM item, UMCF native.",
      "type": "object",
      "required": ["id", "title", "type"],
      "properties": {
        "id": {
          "description": "Unique node identifier. Source: SCORM item identifier, LOM General.Identifier.",
          "$ref": "#/$defs/identifier"
        },
        "title": {
          "description": "Node title. Source: SCORM item title, LOM General.Title.",
          "type": "string"
        },
        "type": {
          "description": "Node type in hierarchy. Source: UMCF native (tutoring-specific).",
          "type": "string",
          "enum": ["curriculum", "unit", "module", "topic", "subtopic", "lesson", "section", "segment"]
        },
        "orderIndex": {
          "description": "Sequence order within parent. Source: SCORM sequencing.",
          "type": "integer",
          "minimum": 0
        },
        "description": {
          "description": "Node description. Source: LOM General.Description.",
          "type": "string"
        },
        "learningObjectives": {
          "description": "Learning objectives. Source: CASE CFItem, LRMI teaches, Bloom's taxonomy.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/learningObjective"
          }
        },
        "prerequisites": {
          "description": "Node-level prerequisites. Source: SCORM sequencing prerequisites.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/prerequisite"
          }
        },
        "timeEstimates": {
          "description": "Time estimates by depth level. Source: LOM Educational.TypicalLearningTime, UMCF native.",
          "$ref": "#/$defs/timeEstimates"
        },
        "transcript": {
          "description": "Full tutoring transcript. Source: UMCF native (conversational AI tutoring).",
          "$ref": "#/$defs/transcript"
        },
        "examples": {
          "description": "Examples at this node. Source: UMCF native, common in educational materials.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/example"
          }
        },
        "assessments": {
          "description": "Questions/quizzes. Source: QTI assessmentItem.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/assessment"
          }
        },
        "glossaryTerms": {
          "description": "Node-specific glossary terms. Source: LRMI, educational conventions.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/glossaryTerm"
          }
        },
        "misconceptions": {
          "description": "Common misconceptions with remediation. Source: UMCF native (pedagogical best practice).",
          "type": "array",
          "items": {
            "$ref": "#/$defs/misconception"
          }
        },
        "resources": {
          "description": "Additional resources. Source: LOM Relation, SCORM resource.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/resource"
          }
        },
        "children": {
          "description": "Nested child nodes (recursive). Source: UMCF native (unlimited hierarchy).",
          "type": "array",
          "items": {
            "$ref": "#/$defs/contentNode"
          }
        },
        "tutoringConfig": {
          "description": "AI tutoring configuration. Source: UMCF native.",
          "$ref": "#/$defs/tutoringConfig"
        },
        "compliance": {
          "description": "Node-level compliance requirements. Source: Corporate training standards.",
          "$ref": "#/$defs/nodeCompliance"
        },
        "media": {
          "description": "Visual and media assets for this content node. Source: UMCF native, LOM Technical.",
          "$ref": "#/$defs/mediaCollection"
        },
        "extensions": {
          "description": "Node-level extensions. Source: xAPI extensions pattern.",
          "$ref": "#/$defs/extensions"
        }
      }
    },

    "learningObjective": {
      "description": "A measurable learning objective. Source: CASE CFItem, LRMI teaches, Bloom's taxonomy.",
      "type": "object",
      "required": ["id", "statement"],
      "properties": {
        "id": {
          "description": "Objective identifier. Source: CASE CFItem.identifier.",
          "$ref": "#/$defs/identifier"
        },
        "statement": {
          "description": "Full objective statement. Source: CASE CFItem.fullStatement.",
          "type": "string"
        },
        "abbreviatedStatement": {
          "description": "Short form. Source: CASE CFItem.abbreviatedStatement.",
          "type": "string"
        },
        "bloomsLevel": {
          "description": "Bloom's taxonomy level. Source: Bloom's cognitive domain.",
          "type": "string",
          "enum": ["remember", "understand", "apply", "analyze", "evaluate", "create"]
        },
        "educationalAlignment": {
          "description": "Standards alignment. Source: CASE CFAssociation, LRMI.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/educationalAlignment"
          }
        },
        "verificationCriteria": {
          "description": "How to verify mastery. Source: UMCF native.",
          "type": "string"
        },
        "assessmentIds": {
          "description": "Assessments that verify this objective. Source: QTI outcomeDeclaration.",
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },

    "prerequisite": {
      "description": "A prerequisite specification. Source: SCORM sequencing, UMCF native.",
      "type": "object",
      "properties": {
        "nodeId": {
          "description": "ID of prerequisite node within this curriculum.",
          "type": "string"
        },
        "externalCurriculum": {
          "description": "External curriculum reference.",
          "$ref": "#/$defs/identifier"
        },
        "description": {
          "description": "Prerequisite description.",
          "type": "string"
        },
        "required": {
          "description": "Whether prerequisite is mandatory.",
          "type": "boolean",
          "default": true
        },
        "minimumMastery": {
          "description": "Required mastery level (0-1).",
          "type": "number",
          "minimum": 0,
          "maximum": 1
        }
      }
    },

    "timeEstimates": {
      "description": "Time estimates by content depth level. Source: LOM Educational.TypicalLearningTime, UMCF native.",
      "type": "object",
      "properties": {
        "overview": {
          "description": "Brief overview time (2-5 min). Source: ISO 8601 duration.",
          "type": "string",
          "pattern": "^PT\\d+[HMS]$",
          "examples": ["PT5M"]
        },
        "introductory": {
          "description": "Beginner-friendly (5-15 min).",
          "type": "string",
          "pattern": "^PT\\d+[HMS]$",
          "examples": ["PT15M"]
        },
        "intermediate": {
          "description": "Solid coverage (15-30 min).",
          "type": "string",
          "pattern": "^PT\\d+[HMS]$",
          "examples": ["PT30M"]
        },
        "advanced": {
          "description": "Theoretical depth (30-60 min).",
          "type": "string",
          "pattern": "^PT\\d+H?\\d*M?$",
          "examples": ["PT1H", "PT45M"]
        },
        "graduate": {
          "description": "Mathematical rigor (60+ min).",
          "type": "string",
          "pattern": "^PT\\d+H?\\d*M?$",
          "examples": ["PT2H"]
        },
        "research": {
          "description": "State-of-the-art depth (90+ min).",
          "type": "string",
          "pattern": "^PT\\d+H?\\d*M?$",
          "examples": ["PT3H"]
        }
      }
    },

    "transcript": {
      "description": "Full tutoring transcript with segments. Source: UMCF native (conversational AI).",
      "type": "object",
      "properties": {
        "segments": {
          "description": "Ordered transcript segments.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/transcriptSegment"
          }
        },
        "totalDuration": {
          "description": "Total speaking time. Source: ISO 8601 duration.",
          "type": "string",
          "pattern": "^P(?:\\d+Y)?(?:\\d+M)?(?:\\d+W)?(?:\\d+D)?(?:T(?:\\d+H)?(?:\\d+M)?(?:\\d+S)?)?$"
        },
        "pronunciationGuide": {
          "description": "Pronunciation hints for terms in this transcript. Maps term text (as it appears in content) to IPA pronunciation. TTS services should use SSML <phoneme> tags with ipa alphabet. Source: UMCF native, W3C SSML phoneme.",
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "required": ["ipa"],
            "properties": {
              "ipa": {
                "description": "IPA (International Phonetic Alphabet) pronunciation. Source: W3C SSML phoneme, IPA standard.",
                "type": "string",
                "examples": ["/ˈmɛdɪtʃi/", "/ˌleɪɔˈnɑːrdoʊ dɑː ˈvintʃi/", "/ˈbɒtɪˌtʃɛli/"]
              },
              "respelling": {
                "description": "Alternative pronunciation respelling for accessibility (not IPA). Source: Dictionary respelling conventions.",
                "type": "string",
                "examples": ["MED-ih-chee", "lay-oh-NAR-doh dah VIN-chee"]
              },
              "language": {
                "description": "Language of origin for this term (BCP 47). Helps TTS with accent. Source: SSML xml:lang.",
                "type": "string",
                "examples": ["it", "fr", "de", "la"]
              },
              "notes": {
                "description": "Optional notes about pronunciation context or variations.",
                "type": "string"
              }
            }
          },
          "examples": [
            {
              "Medici": {
                "ipa": "/ˈmɛdɪtʃi/",
                "respelling": "MED-ih-chee",
                "language": "it"
              },
              "Leonardo da Vinci": {
                "ipa": "/ˌleɪɔˈnɑːrdoʊ dɑː ˈvintʃi/",
                "respelling": "lay-oh-NAR-doh dah VIN-chee",
                "language": "it"
              }
            }
          ]
        },
        "voiceProfile": {
          "description": "Suggested TTS voice characteristics. Source: UMCF native.",
          "type": "object",
          "properties": {
            "tone": {
              "type": "string",
              "enum": ["conversational", "formal", "enthusiastic", "calm"]
            },
            "pace": {
              "type": "string",
              "enum": ["slow", "moderate", "fast"]
            },
            "accent": {
              "type": "string"
            }
          }
        }
      }
    },

    "transcriptSegment": {
      "description": "A segment of tutoring transcript. Source: UMCF native.",
      "type": "object",
      "required": ["id", "type", "content"],
      "properties": {
        "id": {
          "description": "Segment identifier.",
          "type": "string"
        },
        "type": {
          "description": "Segment type. Source: UMCF native.",
          "type": "string",
          "enum": ["lecture", "explanation", "example", "checkpoint", "transition", "summary", "introduction", "conclusion"]
        },
        "content": {
          "description": "The spoken text content.",
          "type": "string"
        },
        "speakingNotes": {
          "description": "TTS delivery instructions. Source: UMCF native.",
          "$ref": "#/$defs/speakingNotes"
        },
        "checkpoint": {
          "description": "Interactive checkpoint after segment. Source: UMCF native.",
          "$ref": "#/$defs/checkpoint"
        },
        "stoppingPoint": {
          "description": "Natural pause configuration. Source: UMCF native.",
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["natural", "mandatory", "optional"]
            },
            "promptForContinue": {
              "type": "boolean"
            },
            "suggestedPrompt": {
              "type": "string"
            }
          }
        },
        "glossaryRefs": {
          "description": "Terms mentioned that should be available.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "alternativeExplanations": {
          "description": "Alternative ways to explain same concept. Source: UMCF native (rephrasing).",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "style": {
                "type": "string",
                "enum": ["simpler", "technical", "analogy", "example-based"]
              },
              "content": {
                "type": "string"
              }
            }
          }
        },
        "estimatedDuration": {
          "description": "Segment duration. Source: ISO 8601.",
          "type": "string",
          "pattern": "^PT\\d+M?\\d*S?$"
        }
      }
    },

    "speakingNotes": {
      "description": "TTS delivery instructions. Source: UMCF native.",
      "type": "object",
      "properties": {
        "pace": {
          "type": "string",
          "enum": ["very slow", "slow", "normal", "fast"]
        },
        "emphasis": {
          "description": "Words/phrases to emphasize.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "pauseAfter": {
          "description": "Insert pause after segment.",
          "type": "boolean"
        },
        "pauseDuration": {
          "description": "Pause duration in seconds.",
          "type": "number"
        },
        "emotionalTone": {
          "type": "string",
          "enum": ["neutral", "encouraging", "serious", "curious", "excited"]
        }
      }
    },

    "checkpoint": {
      "description": "Interactive verification checkpoint. Source: UMCF native, inspired by QTI.",
      "type": "object",
      "required": ["type", "prompt"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["simple_confirmation", "comprehension_check", "knowledge_check", "application_check"]
        },
        "prompt": {
          "description": "Question or prompt to learner.",
          "type": "string"
        },
        "expectedResponsePatterns": {
          "description": "Expected response types. Source: QTI responseDeclaration.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "transitions": {
          "description": "Response-based transitions. Source: UMCF native.",
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "response": {
                "type": "string"
              },
              "nextSegment": {
                "type": "string"
              },
              "feedbackText": {
                "type": "string"
              }
            }
          }
        },
        "fallbackBehavior": {
          "description": "What to do on unexpected response.",
          "type": "string",
          "enum": ["continue", "repeat", "simplify", "escalate_to_llm"]
        }
      }
    },

    "example": {
      "description": "An instructional example. Source: UMCF native, common in educational materials.",
      "type": "object",
      "required": ["id", "type"],
      "properties": {
        "id": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": ["code", "scenario", "case_study", "analogy", "diagram_description", "worked_problem", "real_world", "historical"]
        },
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "content": {
          "description": "Example content.",
          "type": "string"
        },
        "spokenContent": {
          "description": "Voice-optimized version. Source: UMCF native.",
          "type": "string"
        },
        "complexity": {
          "type": "string",
          "enum": ["simple", "moderate", "complex"]
        },
        "codeLanguage": {
          "description": "For code examples - programming language.",
          "type": "string"
        },
        "codeExplanation": {
          "description": "Line-by-line explanation for voice. Source: UMCF native.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "lineRange": {
                "type": "string"
              },
              "explanation": {
                "type": "string"
              }
            }
          }
        },
        "walkthrough": {
          "description": "Step-by-step walkthrough for voice tutoring. Source: UMCF native.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "step": {
                "type": "integer"
              },
              "text": {
                "type": "string"
              },
              "pauseAfter": {
                "type": "boolean"
              }
            }
          }
        }
      }
    },

    "assessment": {
      "description": "Assessment item (basic). Source: QTI assessmentItem.",
      "type": "object",
      "required": ["id", "type", "prompt"],
      "properties": {
        "id": {
          "description": "Assessment identifier. Source: QTI assessmentItem identifier.",
          "$ref": "#/$defs/identifier"
        },
        "type": {
          "description": "Question type (basic set). Source: QTI interaction types.",
          "type": "string",
          "enum": ["choice", "multiple_choice", "text_entry", "true_false"]
        },
        "title": {
          "description": "Assessment title. Source: QTI assessmentItem title.",
          "type": "string"
        },
        "prompt": {
          "description": "Question stem. Source: QTI prompt/itemBody.",
          "type": "string"
        },
        "spokenPrompt": {
          "description": "Voice-optimized version of prompt. Source: UMCF native.",
          "type": "string"
        },
        "choices": {
          "description": "Answer choices. Source: QTI simpleChoice.",
          "type": "array",
          "items": {
            "type": "object",
            "required": ["id", "text"],
            "properties": {
              "id": {
                "type": "string"
              },
              "text": {
                "type": "string"
              },
              "spokenText": {
                "type": "string"
              },
              "correct": {
                "type": "boolean"
              },
              "feedback": {
                "type": "string"
              }
            }
          }
        },
        "correctResponse": {
          "description": "Correct response(s). Source: QTI responseDeclaration.correctResponse.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "scoring": {
          "description": "Scoring configuration. Source: QTI outcomeDeclaration.",
          "type": "object",
          "properties": {
            "maxScore": {
              "type": "number"
            },
            "passingScore": {
              "type": "number"
            },
            "partialCredit": {
              "type": "boolean"
            }
          }
        },
        "feedback": {
          "description": "Feedback configurations. Source: QTI modalFeedback.",
          "type": "object",
          "properties": {
            "correct": {
              "type": "object",
              "properties": {
                "text": {
                  "type": "string"
                },
                "spokenText": {
                  "type": "string"
                }
              }
            },
            "incorrect": {
              "type": "object",
              "properties": {
                "text": {
                  "type": "string"
                },
                "spokenText": {
                  "type": "string"
                },
                "hint": {
                  "type": "string"
                }
              }
            }
          }
        },
        "hints": {
          "description": "Progressive hints. Source: QTI feedbackBlock.",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "text": {
                "type": "string"
              },
              "spokenText": {
                "type": "string"
              }
            }
          }
        },
        "difficulty": {
          "description": "Item difficulty (0-1). Source: IRT/psychometric standards.",
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        "objectivesAssessed": {
          "description": "Learning objectives this assesses. Source: QTI outcomeDeclaration.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "attempts": {
          "description": "Allowed attempts. Source: QTI itemSessionControl.",
          "type": "integer",
          "minimum": 1
        }
      }
    },

    "glossary": {
      "description": "Curriculum-wide glossary. Source: LRMI, educational conventions.",
      "type": "object",
      "properties": {
        "terms": {
          "type": "array",
          "items": {
            "$ref": "#/$defs/glossaryTerm"
          }
        }
      }
    },

    "glossaryTerm": {
      "description": "A glossary term definition. Source: UMCF native.",
      "type": "object",
      "required": ["term", "definition"],
      "properties": {
        "id": {
          "type": "string"
        },
        "term": {
          "type": "string"
        },
        "pronunciation": {
          "description": "IPA or phonetic pronunciation. Source: UMCF native (TTS).",
          "type": "string"
        },
        "definition": {
          "type": "string"
        },
        "spokenDefinition": {
          "description": "Voice-optimized definition. Source: UMCF native.",
          "type": "string"
        },
        "simpleDefinition": {
          "description": "Simplified definition for younger audiences. Source: UMCF native.",
          "type": "string"
        },
        "synonyms": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "relatedTerms": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "etymology": {
          "type": "string"
        },
        "contextualUsage": {
          "type": "string"
        }
      }
    },

    "misconception": {
      "description": "Common misconception with remediation. Source: UMCF native (pedagogical best practice).",
      "type": "object",
      "required": ["id", "misconception", "correction"],
      "properties": {
        "id": {
          "type": "string"
        },
        "misconception": {
          "description": "The incorrect belief.",
          "type": "string"
        },
        "triggerPhrases": {
          "description": "Phrases that indicate this misconception. Source: UMCF native (detection).",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "correction": {
          "description": "The correct understanding.",
          "type": "string"
        },
        "spokenCorrection": {
          "description": "Voice-optimized correction. Source: UMCF native.",
          "type": "string"
        },
        "explanation": {
          "description": "Why people have this misconception.",
          "type": "string"
        },
        "remediationPath": {
          "description": "Suggested remediation content. Source: UMCF native.",
          "type": "object",
          "properties": {
            "reviewTopics": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "additionalExamples": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "suggestedTranscriptSegments": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        "severity": {
          "type": "string",
          "enum": ["minor", "moderate", "critical"]
        }
      }
    },

    "resource": {
      "description": "Additional resource reference. Source: LOM Relation, SCORM resource.",
      "type": "object",
      "required": ["type", "identifier"],
      "properties": {
        "type": {
          "description": "Relation type. Source: LOM Relation.Kind vocabulary.",
          "type": "string",
          "enum": [
            "ispartof",
            "haspart",
            "isversionof",
            "hasversion",
            "isformatof",
            "hasformat",
            "references",
            "isreferencedby",
            "isbasedon",
            "isbasisfor",
            "requires",
            "isrequiredby"
          ]
        },
        "identifier": {
          "description": "Resource identifier. Source: LOM Relation.Resource.Identifier.",
          "type": "string"
        },
        "url": {
          "description": "Resource URL.",
          "type": "string",
          "format": "uri"
        },
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "format": {
          "description": "MIME type. Source: LOM Technical.Format.",
          "type": "string"
        }
      }
    },

    "tutoringConfig": {
      "description": "AI tutoring configuration. Source: UMCF native.",
      "type": "object",
      "properties": {
        "contentDepth": {
          "description": "Default content depth. Source: UMCF native (UnaMentis ContentDepth).",
          "type": "string",
          "enum": ["overview", "introductory", "intermediate", "advanced", "graduate", "research"]
        },
        "adaptiveDepth": {
          "description": "Allow adaptive depth changes.",
          "type": "boolean"
        },
        "systemPromptOverride": {
          "description": "Custom system prompt for this node.",
          "type": "string"
        },
        "interactionMode": {
          "description": "Primary interaction mode.",
          "type": "string",
          "enum": ["lecture", "socratic", "practice", "assessment", "freeform"]
        },
        "allowTangents": {
          "description": "Allow off-topic exploration.",
          "type": "boolean"
        },
        "escalationThreshold": {
          "description": "When to escalate to frontier LLM (0-1).",
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        "checkpointFrequency": {
          "description": "How often to insert comprehension checks.",
          "type": "string",
          "enum": ["never", "low", "medium", "high", "every_segment"]
        }
      }
    },

    "nodeCompliance": {
      "description": "Node-level compliance requirements. Source: UMCF native.",
      "type": "object",
      "properties": {
        "mandatory": {
          "description": "Whether this node is mandatory for compliance.",
          "type": "boolean"
        },
        "passingCriteria": {
          "description": "Criteria to pass this node.",
          "type": "object",
          "properties": {
            "minimumScore": {
              "type": "number",
              "minimum": 0,
              "maximum": 100
            },
            "requiredAssessments": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "minimumTime": {
              "type": "string",
              "pattern": "^PT\\d+[HM]$"
            },
            "allObjectivesRequired": {
              "type": "boolean"
            }
          }
        },
        "trackingLevel": {
          "description": "Level of tracking detail required.",
          "type": "string",
          "enum": ["none", "completion_only", "detailed", "forensic"]
        }
      }
    },

    "extensions": {
      "description": "Namespaced extensions for custom data. Source: xAPI extensions pattern, JSON-LD @context.",
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "description": "Extension namespace containing arbitrary properties."
      },
      "examples": [
        {
          "https://unamentis.com/extensions/analytics": {
            "trackingId": "UA-12345",
            "customDimensions": {}
          },
          "https://example.com/custom-extension": {
            "customField": "value"
          }
        }
      ]
    },

    "mediaCollection": {
      "description": "Collection of media assets for a content node. Source: UMCF native, LOM Technical.",
      "type": "object",
      "properties": {
        "embedded": {
          "description": "Media assets displayed inline with content, synchronized to transcript segments.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/embeddedMedia"
          }
        },
        "reference": {
          "description": "Supplementary media assets users can request on demand.",
          "type": "array",
          "items": {
            "$ref": "#/$defs/referenceMedia"
          }
        }
      }
    },

    "embeddedMedia": {
      "description": "Media asset embedded in content flow. Source: UMCF native.",
      "type": "object",
      "required": ["id", "type", "alt"],
      "properties": {
        "id": {
          "description": "Unique identifier for this media asset.",
          "type": "string",
          "minLength": 1
        },
        "type": {
          "description": "Media type. Source: UMCF native, extended for generative content.",
          "type": "string",
          "enum": ["image", "diagram", "equation", "formula", "chart", "map", "slideImage", "slideDeck", "video", "videoLecture"]
        },
        "url": {
          "description": "Remote URL for the asset.",
          "type": "string",
          "format": "uri"
        },
        "localPath": {
          "description": "Relative path for bundled assets.",
          "type": "string"
        },
        "title": {
          "description": "Display title.",
          "type": "string"
        },
        "alt": {
          "description": "Accessibility description (required). Source: W3C WCAG.",
          "type": "string"
        },
        "caption": {
          "description": "Caption text to display.",
          "type": "string"
        },
        "audioDescription": {
          "description": "Detailed verbal description for accessibility.",
          "type": "string"
        },
        "mimeType": {
          "description": "MIME type of the asset.",
          "type": "string",
          "examples": ["image/png", "image/svg+xml", "image/webp"]
        },
        "dimensions": {
          "description": "Asset dimensions in pixels.",
          "type": "object",
          "properties": {
            "width": { "type": "integer", "minimum": 1 },
            "height": { "type": "integer", "minimum": 1 }
          }
        },
        "segmentTiming": {
          "description": "When to display during playback.",
          "$ref": "#/$defs/segmentTiming"
        },
        "latex": {
          "description": "LaTeX source for equation/formula type.",
          "type": "string"
        },
        "sourceCode": {
          "description": "Source code for diagram generation (Mermaid, Graphviz, etc.).",
          "$ref": "#/$defs/diagramSourceCode"
        },
        "geography": {
          "description": "Geographic specification for map type.",
          "$ref": "#/$defs/mapGeography"
        },
        "mapStyle": {
          "description": "Visual style for map type.",
          "type": "string",
          "enum": ["political", "physical", "topographic", "historical", "satellite", "streetmap", "terrain", "dark", "light"],
          "default": "political"
        },
        "timePeriod": {
          "description": "Historical time period for maps.",
          "$ref": "#/$defs/timePeriod"
        },
        "markers": {
          "description": "Map markers/points of interest.",
          "type": "array",
          "items": { "$ref": "#/$defs/mapMarker" }
        },
        "routes": {
          "description": "Routes or paths to display on map.",
          "type": "array",
          "items": { "$ref": "#/$defs/mapRoute" }
        },
        "regions": {
          "description": "Highlighted geographic regions.",
          "type": "array",
          "items": { "$ref": "#/$defs/mapRegion" }
        },
        "interactive": {
          "description": "Whether media supports user interaction (pan, zoom, etc.).",
          "type": "boolean",
          "default": false
        },
        "displayMode": {
          "description": "Display mode for formulas.",
          "type": "string",
          "enum": ["inline", "block", "display"],
          "default": "block"
        },
        "semanticMeaning": {
          "description": "Semantic interpretation for formulas.",
          "$ref": "#/$defs/formulaSemantics"
        },
        "fallbackImageUrl": {
          "description": "Pre-rendered image URL for clients that cannot render dynamically.",
          "type": "string",
          "format": "uri"
        },
        "fallbackImageLocalPath": {
          "description": "Local path to pre-rendered fallback image.",
          "type": "string"
        },
        "diagramSubtype": {
          "description": "Specific type of diagram.",
          "type": "string",
          "enum": ["flowchart", "sequence", "class", "state", "entity-relationship", "architecture", "mindmap", "gantt", "pie", "timeline", "tree", "network", "venn", "comparison", "process", "hierarchy", "custom"]
        },
        "generationSource": {
          "description": "How this media was created.",
          "type": "string",
          "enum": ["ai_generated", "author_provided", "imported", "derived"],
          "default": "author_provided"
        },
        "generationMetadata": {
          "description": "Metadata for AI-generated media.",
          "type": "object",
          "properties": {
            "model": { "type": "string" },
            "prompt": { "type": "string" },
            "generatedAt": { "type": "string", "format": "date-time" },
            "humanReviewed": { "type": "boolean" }
          }
        }
      }
    },

    "referenceMedia": {
      "description": "Supplementary media that users can request. Source: UMCF native.",
      "type": "object",
      "required": ["id", "type", "title"],
      "properties": {
        "id": { "type": "string", "minLength": 1 },
        "type": {
          "type": "string",
          "enum": ["image", "diagram", "equation", "formula", "chart", "map", "slideImage", "slideDeck", "video", "videoLecture", "document"]
        },
        "url": { "type": "string", "format": "uri" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "keywords": {
          "description": "Search keywords for matching user requests.",
          "type": "array",
          "items": { "type": "string" }
        }
      }
    },

    "segmentTiming": {
      "description": "Controls when media appears during transcript playback. Source: UMCF native.",
      "type": "object",
      "properties": {
        "startSegment": {
          "description": "Segment ID or index when media should first appear.",
          "oneOf": [
            { "type": "string" },
            { "type": "integer", "minimum": 0 }
          ]
        },
        "endSegment": {
          "description": "Segment ID or index when media should disappear.",
          "oneOf": [
            { "type": "string" },
            { "type": "integer", "minimum": 0 }
          ]
        },
        "displayMode": {
          "type": "string",
          "enum": ["persistent", "highlight", "popup", "inline"],
          "default": "persistent"
        }
      }
    },

    "diagramSourceCode": {
      "description": "Source code for diagram generation. Source: Mermaid, Graphviz, PlantUML.",
      "type": "object",
      "required": ["format", "code"],
      "properties": {
        "format": {
          "description": "Diagram language/format.",
          "type": "string",
          "enum": ["mermaid", "graphviz", "plantuml", "d2", "excalidraw", "drawio", "svg-raw"]
        },
        "code": {
          "description": "The diagram source code.",
          "type": "string"
        },
        "version": {
          "description": "Version of the diagram format/library.",
          "type": "string"
        }
      }
    },

    "mapGeography": {
      "description": "Geographic bounds and positioning for maps. Source: GeoJSON, Leaflet conventions.",
      "type": "object",
      "properties": {
        "center": {
          "description": "Center point of the map view.",
          "type": "object",
          "required": ["latitude", "longitude"],
          "properties": {
            "latitude": { "type": "number", "minimum": -90, "maximum": 90 },
            "longitude": { "type": "number", "minimum": -180, "maximum": 180 }
          }
        },
        "zoom": {
          "description": "Zoom level (1-20). Source: OpenStreetMap/Leaflet.",
          "type": "number",
          "minimum": 1,
          "maximum": 20,
          "default": 10
        },
        "boundingBox": {
          "description": "Alternative to center/zoom. Bounding box for map extent.",
          "type": "object",
          "required": ["north", "south", "east", "west"],
          "properties": {
            "north": { "type": "number", "minimum": -90, "maximum": 90 },
            "south": { "type": "number", "minimum": -90, "maximum": 90 },
            "east": { "type": "number", "minimum": -180, "maximum": 180 },
            "west": { "type": "number", "minimum": -180, "maximum": 180 }
          }
        }
      }
    },

    "timePeriod": {
      "description": "Historical time period for maps. Source: UMCF native.",
      "type": "object",
      "properties": {
        "year": {
          "description": "Specific year (positive for CE/AD, negative for BCE/BC).",
          "type": "integer"
        },
        "era": {
          "description": "Era designation for display.",
          "type": "string",
          "enum": ["CE", "BCE", "AD", "BC"]
        },
        "range": {
          "description": "Date range (e.g., '1450-1550').",
          "type": "string"
        },
        "displayLabel": {
          "description": "Human-readable label (e.g., 'Renaissance Italy, 1494').",
          "type": "string"
        }
      }
    },

    "mapMarker": {
      "description": "A point of interest on a map. Source: GeoJSON Point, Leaflet marker.",
      "type": "object",
      "required": ["id", "latitude", "longitude", "label"],
      "properties": {
        "id": { "type": "string" },
        "latitude": { "type": "number", "minimum": -90, "maximum": 90 },
        "longitude": { "type": "number", "minimum": -180, "maximum": 180 },
        "label": { "type": "string" },
        "description": { "type": "string" },
        "spokenDescription": {
          "description": "Voice-optimized description for tutoring.",
          "type": "string"
        },
        "markerType": {
          "type": "string",
          "enum": ["pin", "dot", "star", "landmark", "city", "battle", "route-point", "custom"],
          "default": "pin"
        },
        "icon": {
          "description": "Custom icon URL.",
          "type": "string",
          "format": "uri"
        },
        "color": {
          "description": "Marker color (CSS color value).",
          "type": "string"
        }
      }
    },

    "mapRoute": {
      "description": "A route or path on a map. Source: GeoJSON LineString.",
      "type": "object",
      "required": ["id", "points"],
      "properties": {
        "id": { "type": "string" },
        "label": { "type": "string" },
        "points": {
          "type": "array",
          "minItems": 2,
          "items": {
            "type": "object",
            "required": ["latitude", "longitude"],
            "properties": {
              "latitude": { "type": "number" },
              "longitude": { "type": "number" }
            }
          }
        },
        "color": { "type": "string" },
        "style": {
          "type": "string",
          "enum": ["solid", "dashed", "dotted"],
          "default": "solid"
        }
      }
    },

    "mapRegion": {
      "description": "A highlighted geographic region. Source: GeoJSON Polygon.",
      "type": "object",
      "required": ["id", "label"],
      "properties": {
        "id": { "type": "string" },
        "label": { "type": "string" },
        "geoJsonUrl": {
          "description": "URL to GeoJSON defining the region boundary.",
          "type": "string",
          "format": "uri"
        },
        "fillColor": { "type": "string" },
        "strokeColor": { "type": "string" },
        "opacity": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "default": 0.3
        }
      }
    },

    "formulaSemantics": {
      "description": "Semantic interpretation of a mathematical formula. Source: UMCF native.",
      "type": "object",
      "properties": {
        "category": {
          "description": "Mathematical category.",
          "type": "string",
          "enum": ["algebraic", "geometric", "trigonometric", "calculus", "statistics", "physics", "chemistry", "logic", "set-theory", "linear-algebra", "differential-equations", "probability", "other"]
        },
        "purpose": {
          "description": "What the formula calculates or represents.",
          "type": "string"
        },
        "variables": {
          "description": "Descriptions of variables in the formula.",
          "type": "array",
          "items": {
            "type": "object",
            "required": ["symbol", "meaning"],
            "properties": {
              "symbol": { "type": "string" },
              "meaning": { "type": "string" },
              "unit": { "type": "string" }
            }
          }
        },
        "commonName": {
          "description": "Common name for well-known formulas (e.g., 'Pythagorean theorem').",
          "type": "string"
        },
        "spokenForm": {
          "description": "How to speak the formula aloud, optimized for TTS.",
          "type": "string"
        }
      }
    }
  }
}
